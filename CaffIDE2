#!/bin/bash
## Welcome to the single-file Java Programming tool made by an idiot high on coffee!
## really don't use this if you can, there are MUCH better tools
## i only made this because programming on termux on my andriod phone was a good idea

#SOME CONFIGURATIONS

# javacmd - the command to execute java
# fileext - the file extension used for the auto creator thing
# Default: javacmd="java " and it just uses your normal java installation
javacmd="java "
fileext=".java"
javacomp="javac "
# Text editor options
# texteditor - the text editor used (don't use a graphical editor, it looks UGLY)
# textcontinue - really just "fg " by default, i wouldn't touch that one
texteditor="nano "
textcontinue="fg "
# Color Codes
RED="\e[38;5;9m"          # for red, really not used much
TEXTLABEL="\e[38;5;118m"  # label text for dialogue
TEXTDESC="\e[38;5;48m"    # description text color
TEXTFRG="\e[38;5;51m"     # foreground color for the title
TEXTBKG="\e[38;5;6m"      # background color for the title
CLEARC="\e[0m"            # clear the color, change to white

#END OF CONFIGURATIONS, TREAD CAREFULLY BELOW!

CAFFIDELOGO="$TEXTFRG╔═══╗$TEXTBKG───$TEXTFRG╔═╗╔═╦══╦═══╦═══╗
$TEXTFRG║╔═╗║$TEXTBKG───$TEXTFRG║╔╝║╔╩╣╠╩╗╔╗║╔══╝
$TEXTFRG║║$TEXTBKG─$TEXTFRG╚╬══╦╝╚╦╝╚╗║║$TEXTBKG─$TEXTFRG║║║║╚══╗
$TEXTFRG║║$TEXTBKG─$TEXTFRG╔╣╔╗╠╗╔╩╗╔╝║║$TEXTBKG─$TEXTFRG║║║║╔══╝
$TEXTFRG║╚═╝║╔╗║║║$TEXTBKG─$TEXTFRG║║╔╣╠╦╝╚╝║╚══╗
$TEXTFRG╚═══╩╝╚╝╚╝$TEXTBKG─$TEXTFRG╚╝╚══╩═══╩═══╝"
DATE=`date +%y%m%d%H%M%S`

function title () { 
clear
echo -e "$CAFFIDELOGO"
echo -e "$TEXTBKG the IDE high on coffee\n $CLEARC"
}

function list-choices () {
echo -e "$TEXTLABEL     Pick a function:" && sleep 0.025
echo -e "$TEXTLABEL (1) $TEXTDESC Create a file" && sleep 0.025
echo -e "$TEXTLABEL (2) $TEXTDESC Edit a file" && sleep 0.025
echo -e "$TEXTLABEL (3) $TEXTDESC Run a file" && sleep 0.025
echo -e "$TEXTLABEL (4) $TEXTDESC Compile a file" && sleep 0.025
echo -e "$TEXTLABEL (5) $TEXTDESC List all files in your folder" && sleep 0.025
echo -e "$TEXTLABEL (8) $TEXTDESC Edit CaffIDE Script" && sleep 0.025
echo -e "$TEXTLABEL (9) $TEXTDESC Reload CaffIDE" && sleep 0.025
echo -e "$TEXTLABEL (0) $TEXTDESC Exit" && sleep 0.025
}
function prompt () {
echo -en "$TEXTLABEL Enter an option: $CLEARC"
}
function makeclass () {
  echo -en "$TEXTDESC Selected Create a File\n $TEXTLABEL Enter the name for the class: $CLEARC"
  read classname
  echo -e "
 class $classname {
    public static void main(String[] args) {
        // TODO CaffIDE autogenerated

    }
 }" >> $classname$fileext
   echo -e "Created $classname$fileext"
   sleep 3
}
function editclass () {
  echo -en "$TEXTDESC Selected Edit a File\n $TEXTLABEL Enter the name of the file: $CLEARC"
  read classname
  $texteditor $classname$fileext
}
function runfile () {
  echo -en "$TEXTDESC Selected Run a File\n $TEXTLABEL Enter the file name: $CLEARC"
  read classname
  clear
  title && echo -e "$RED(CONSOLE HERE) $CLEARC\n"
  $javacmd $classname$fileext
  echo -e "\n$TEXTLABEL      Finished! Press enter to continue..."
  read JUNKIEHAHAHA
}
function listfile () {
  ls -1
  echo -e "$TEXTLABEL      Press enter to continue..."
  read JUNKIERHAHASOFUNNY
}
function reloadcaffide () {
  bash $PWD/CaffIDE
  exit
}
function compiler () {
    echo -en "$TEXTDESC Selected Compile a File\n $TEXTLABEL Enter the file name: $CLEARC"
    read classname
    $javacomp $classname$fileext
    echo -e "\n$TEXTLABEL      Finished! Press enter to continue..."
    read JUNKIEHAHAHA
}
function run () {
title
sleep 0.5
list-choices
prompt
read CHOICE
case $CHOICE in
  1) makeclass ;;
  2) editclass ;;
  3) runfile ;;
  4) compiler ;;
  5) listfile ;;
  8) $texteditor $PWD/CaffIDE ;;
  9) reloadcaffide ;;
  0) exit && clear && echo -e "$TEXTLABEL Thank you and goodbye!" ;;
esac
run
}

run
